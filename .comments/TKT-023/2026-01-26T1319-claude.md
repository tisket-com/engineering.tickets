---
author: Claude
timestamp: 2026-01-26T13:19:40.722Z
---
Added MCP-side sync to complete the fix:

**Additional changes:**
- `mcp/src/operations/repos.ts`: Added `syncRepoToDb()` - inserts repo into DB immediately after GitHub creation
- `mcp/src/lib/workspaces.ts`: Added `ensureRepoInDb()` - ensures repo exists in DB when adding to workspace

**Full data flow now:**
1. MCP creates repo on GitHub
2. MCP inserts into `repos` table (new)
3. Client queries `repos.list` â†’ reads from DB only (no GitHub API)
4. New repo appears instantly in sidebar

Commit: 5d8225c
